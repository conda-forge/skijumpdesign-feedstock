{% set name = "skijumpdesign" %}
{% set version = "1.1.3" %}
{% set sha256 = "77a5bf5965517a17a0b73c49b1be450ee3f49ddd9cf265d661b39e011d90ab10" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  script: |
    python -m pip install --no-deps --ignore-installed .
    # This is a hack to get the custom css file in the right place. Remove once
    # https://gitlab.com/moorepants/skijumpdesign/issues/44 is addressed
    # properly.
    mv {{ environ["PREFIX"] }}/static {{ environ["SP_DIR"] }}/
  noarch: python
  skip: True  # [py<35]

requirements:
  build:
    - python
    - setuptools
    - pip
  run:
    - python
    - setuptools
    - numpy >=1.13
    - scipy >=1.0
    - matplotlib
    - sympy
    - cython
    - fastcache
    - plotly
    - flask
    - dash
    - dash-html-components
    - dash-core-components

test:
  imports:
    - skijumpdesign
    - skijumpdesign.functions
    - skijumpdesign.skiers
    - skijumpdesign.surfaces
    - skijumpdesign.trajectories
    - skijumpdesign.utils

about:
  home: https://skijumpdesign.herokuapp.com
  dev_url: https://gitlab.com/moorepants/skijumpdesign
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Ski Jump Design Tool For Specified Equivalent Fall Height'
  description: |
    A ski jump design tool for equivalent fall height based on the work
    presented in Levy, Dean, Mont Hubbard, James A. McNeil, and Andrew Swedberg.
    "A Design Rationale for Safer Terrain Park Jumps That Limit Equivalent Fall
    Height." Sports Engineering 18, no. 4 (December 2015): 227â€“39.
    https://doi.org/10.1007/s12283-015-0182-6. Includes a library for 2D skiing
    simulations and a graphical web application for designing ski jumps. It is
    written in Python backed by NumPy, SciPy, SymPy, Cython, matplotlib,
    Plotly, and Dash.
extra:
  recipe-maintainers:
    - moorepants
